[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ГИС для пожарных подразделений",
    "section": "",
    "text": "Предисловие\nВ настоящее время, пожарные подразделения сталкиваются с проблемой, связанной с картами. Множество подразделений делают справочник водоисточников и карту района выезда “от руки”. В век информационных технологий, данные действия должны искорениться из подразделений пожарной охраны, в связи с их неудобностью.",
    "crumbs": [
      "Предисловие"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "Вступление",
    "section": "",
    "text": "Это руководство написано для сотрудников пожарных подразделений с целью помочь им в работе с такой картографической информацией как сведения об источниках наружного противопожарного водоснабжения, составление карт районов выезда, а также работой с модулем “Генезис” в ГИС программах NextGIS и QGIS.",
    "crumbs": [
      "Вступление"
    ]
  },
  {
    "objectID": "fire_main.html",
    "href": "fire_main.html",
    "title": "Реализация основных задач пожарных подразделений",
    "section": "",
    "text": "Ссылка (Knuth 1984)\n\n\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Ссылки",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "Ссылки"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "13  Заключение",
    "section": "",
    "text": "Заключение по итогам написания книги.",
    "crumbs": [
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Заключение</span>"
    ]
  },
  {
    "objectID": "automation.html",
    "href": "automation.html",
    "title": "Автоматизация картографических задач с использованием языков програмирования Python и R",
    "section": "",
    "text": "Идеи\n\n\n\n\nПоиск водоисточников расположенных на расстоянии от здания (с учетом огибания и без)",
    "crumbs": [
      "Автоматизация картографических задач с использованием языков програмирования Python и R"
    ]
  },
  {
    "objectID": "gis_in_fire_service.html",
    "href": "gis_in_fire_service.html",
    "title": "1  Использование картографической информации в пожарной охране",
    "section": "",
    "text": "Использование геоинформационных технологий вносит значительный вклад в систему МЧС России. ГИС позволяют оперативно получать доступ к картам и проводить мониторинг местности с необходимой информацией о ней. Внедрение ГИС в работу пожарных подразделений существенно сократит время для составления планшета водоисточников и карт района выезда. Также информация, размещаемая в ГИС поможет вести учёт баз данных источников противопожарного водоснабжения, без лишней работы. Библиотека “Генезис”, поможет подразделениям проанализировать время индекса прибытия, размещение пожарных подразделений, а также время следования между двумя точками.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Использование картографической информации в пожарной охране</span>"
    ]
  },
  {
    "objectID": "about_qgis.html",
    "href": "about_qgis.html",
    "title": "Основы работы с QGIS и NextGIS",
    "section": "",
    "text": "QGIS – это географическая информационная система с открытым исходным кодом. Проект зародился в мае 2002 года и был создан как проект на SourceForge в июне того же года. В настоящее время QGIS работает на большинстве платформ Unix, Windows и macOS. QGIS разработан с использованием инструментария Qt (https://www.qt.io) и C++. QGIS работает быстро и имеет приятный, простой в использовании графический интерфейс пользователя (GUI).\nNextGIS — это набор программ для создания тематических геоинформационных систем и сервисов.\nНекоторые продукты платформы:\nNextGIS Web - Серверное программное обеспечение для хранения, визуализации и управления геоданными, гибкой настройки доступа к данным для пользователей.\nNextGIS QGIS - Настольная ГИС для создания и редактирования данных, производства карт и выполнения аналитических операций.\nNextGIS Mobile - Мобильная ГИС, позволяющая создавать, редактировать и выгружать геоданные онлайн и офлайн.\nNextGIS Data - Актуальные геоданные в разных форматах, удобная структура слоёв, настроенные стили и проекты для ГИС.",
    "crumbs": [
      "Основы работы с QGIS и NextGIS"
    ]
  },
  {
    "objectID": "about_qgis/qgis_install.html",
    "href": "about_qgis/qgis_install.html",
    "title": "3  Установка QGIS",
    "section": "",
    "text": "Для начала работы с библиотекой «Генезис» должна быть установлена геоинформационная система «QGIS». Для этого переходим на официальный сайт «QGIS» qgis.org. Далее нажимаем на кнопку «Douwnload».\n\nПосле этого нас перемещает на страницу на выборе версии. Выбираем версию для Windows 3.34.\n\nПосле загрузки в веб-браузере устанавливаем «QGIS» в корневую папку системы. При правильной установке на рабочем столе появится папка под названием «QGIS 3.34.11». Переходим в содержимое папки.\n\nИз всего вышеперечисленного списка нам понадобится «QGIS Desktop 3.34.11» и «OSGeo4W Shell».\nСразу же установим библиотеки, нужные для работы.\nОткрываем «OSGeo4W Shell» и в командной строке последовательно прописываем следующие команды после чего нажимаем Enter:\npip install osmnx==1.9.4\npip install geopandas",
    "crumbs": [
      "Основы работы с QGIS и NextGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Установка QGIS</span>"
    ]
  },
  {
    "objectID": "about_qgis/qgis_basics.html",
    "href": "about_qgis/qgis_basics.html",
    "title": "2  Установка NextGIS",
    "section": "",
    "text": "Для основной работы с ГИС нам понадобиться установить NextGIS QGIS. Переходим на официальную страницу NextGIS.\n\nНажимаем на кнопку «Создать Веб ГИС» и регистрируемся в системе. После подтверждения аккаунта на электронной почте, нас направят в наш профиль, нажимаем на вкладку «Программы» и скачиваем программное обеспечение «NextGIS QGIS».\n\nЗапускаем инсталлятор и устанавливаем ПО без изменения в настройках.",
    "crumbs": [
      "Основы работы с QGIS и NextGIS",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Установка NextGIS</span>"
    ]
  },
  {
    "objectID": "about_qgis/qgis_layers.html",
    "href": "about_qgis/qgis_layers.html",
    "title": "4  Векторные и тайловые карты",
    "section": "",
    "text": "Существует 2 основных вида карт:\n\nТайловые карты - это набор изображений (тайлов), содержащих в себе геопространственную информацию, которые в совокупности отображают карту Земной поверхности и составляют единую иерархию (например из OpenStreetMap)\n\n\n\nВекторные слои - это семантический массив описаний объектов с их атрибутами и геометрической формой. (т.е. множество слоев).",
    "crumbs": [
      "Основы работы с QGIS и NextGIS",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Векторные и тайловые карты</span>"
    ]
  },
  {
    "objectID": "about_qgis/qgis_importexport.html",
    "href": "about_qgis/qgis_importexport.html",
    "title": "5  Импорт и экспорт картографической информации",
    "section": "",
    "text": "5.1 Эскпорт\nОткрываем «NextGIS QGIS» и 2 раза нажимаем на «Создать пустой проект.\nРазберёмся как создавать тайловую карту в Nex с помощью OpenStreetMap. Переходим в «Слой» - «Добавить слой» - «Добавить тайловый слой XYZ».\nВ открывшемся окне нажимаем на выпадающий список, выбираем «OpenStreetMap» и нажимаем кнопку «Добавить». Закрываем окно.\nМы добавили тайловую карту всей земной поверхности, с которой мы сможем в будущем взаимодействовать.\nПримечание: для добавления карты через OpenStreetMap понадобится интернет-соединение.\nПри желании возможно сохранить проект. Переходим в «Проект» - «Сохранить как…» , называем произвольно файл и сохраняем в любое удобное место.\nМы создали нашу первую карту и можем ею делиться!",
    "crumbs": [
      "Основы работы с QGIS и NextGIS",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Импорт и экспорт картографической информации</span>"
    ]
  },
  {
    "objectID": "about_qgis/qgis_importexport.html#импорт",
    "href": "about_qgis/qgis_importexport.html#импорт",
    "title": "5  Импорт и экспорт картографической информации",
    "section": "5.2 Импорт",
    "text": "5.2 Импорт\nРазберём пакетный импорт данных. Обычно нам не понадобится работать с водоисточниками с нуля, ведь есть уже созданные базы данных. Мы можем загрузить файл в формате .kml. Создаём новый проект и добавляем векторный слой.\n\nДалее в открывшемся окне выбираем путь к нашему файлу и нажимаем «Добавить».\n\n\nДобавим картографическую подложку через OSM standart.\n\nМеняем систему координат для более чёткого изображения, для этого нажимаем снизу справа на иконку мира и выбираем систему координат так, чтобы красный квадрат захватывал наше местоположение (синий крест). Нажимаем «Применить» и «ОК».\n\n\nТеперь мы можем работать с уже готовой картой и базой данных!\nДалее вы сможете увидеть, как нам понадобится база данных, а именно таблица атрибутов.",
    "crumbs": [
      "Основы работы с QGIS и NextGIS",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Импорт и экспорт картографической информации</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html",
    "href": "fire_main/fm_inppw_planshets.html",
    "title": "6  Составление планшетов водоисточников",
    "section": "",
    "text": "6.1 Маркеры пожарных гидрантов\nВоспользуемся уже имеющейся тайловой картой, которую создали пунктами выше, либо создадим полностью новый проект в NextGIS QGIS. Открываем в панели инструментов «Слой» - «Создать слой» - «Создать слой» - «GeoPackage».\nВ открывшемся окне, нажав на 3 точки выбираем путь сохранения файла, в нашем примере создадим папку fire_data и в ней будем размещать все слои, которые будут относится к пожарной охране.\nПочему именно «data»?\nПо негласным правилам работы с приложениями QGIS, NextGIS QGIS, в папке проекта создаётся другая папка с названием «data» и в неё помещаются все файлы, связанные со слоями.\nСоздадим в файле с проектом папку data для удобности работы с векторными слоями, ибо папка fire_data будет заполнена тайловыми слоями.\nПосле создания двух папок, сохраняем слой GeoPackage с произвольным названием fire_data.\nДалее называем имя таблицы. В примере назовём её «Водоисточники». Выбираем тип геометрии «Точка» и нажимаем «ОК».\nСоздадим наш первый водоисточник! Нажимаем на слой с водоисточниками, переходим в «Режим редактирования» и в появившемся инструменте выбираем «Добавить точечный объект».\nВыбираем место, где будет располагаться наш водоисточник. Нажимаем левой кнопкой мыши на выбранное место и в открывшемся окне нажимаем «ОК». У нас появилась точка. Нажимаем ещё раз на «Режим редактирования» и сохраняем слой.\nЗаймёмся стилизацией водоисточников. Нажимаем на слой «Водоисточники» правой кнопкой мыши и из открывшегося меню выбираем «Свойства».\nУ нас открывается диалоговое окно с множеством настроек, нам понадобится свойство «Стиль», где есть возможность редактирования маркера. Во вкладке «Маркер» поменяем цвет маркеру, например на красный.\nВ пожарной охране есть установленные условные обозначения водоисточников, поменяем наши точки под установленный образец. Нажимаем на «Простой маркер», выбираем тип слоя «SVG маркер» и внизу у нас появился перечень возможных вариантов.\nДля нужного нам условного обозначения, нужно скачать векторные изображения в формате svg с АИГС ГраФиС. Заходим в GitHub по ссылке:\nhttps://github.com/Obsidian-pb/GraFiS_svg\nНа открывшейся веб-странице во вкладке «Releases» нажимаем v.0.8.0.\nСкачиваем .zip файл:\nВ файле открываем папку icons и в ней мы перемещаем папку water_sources в папку с нашей работой.\nПереходим обратно в редактор SVG маркеров. В самом низу указываем путь к нашему маркеру, возьмём обозначение пожарного гидранта – это файл pg.svg. После этого нажимаем на «Открыть», «Применить» и потом «ОК».\nВ архиве находится описание остальных обозначений, нужных для работы.\nНаблюдаем, что пожарные гидранты обозначаются согласно установленным нормам. По желанию возможно изменение размера в свойствах слоя.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#стилизация-маркеров",
    "href": "fire_main/fm_inppw_planshets.html#стилизация-маркеров",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.2 Стилизация маркеров",
    "text": "6.2 Стилизация маркеров\nВ данном разделе сделаем все условные обозначения для ИННПВ. Выбираем слой наших водоисточников и открываем таблицу атрибутов.\n\nВ таблице атрибутов отображаются все атрибуты векторного слоя, которые размещены на карте. Сейчас находится только один атрибут и это id векторного слоя. Мы можем добавлять любую произвольную информацию в произвольном виде. Добавим поле для типа водоисточника. Для этого в таблице атрибутов нажимаем на «Режим редактирования» и нажимаем «Добавить новое поле».\n\nВ открывшемся окне пишем имя «Тип» и в выпадающем списке «Тип» выбираем «Текст», в длине пишем 10. Нажимаем «ОК».\n\nУ нас появилось новое поле, где мы можем написать тип ИННПВ (ПГ, ПВ и т.д.). По желанию заполняем данные. Сейчас мы это делаем вручную, посмотрим способ как автоматизировать этот процесс. Выходим из режима редактирования и сохраняем изменения.\nПереходим в свойства слоя водоисточников и выбираем вкладку «Формы полей»\n\nПереходим в поле «Тип», далее во вкладке «Вид формы» из выпадающего списка выбираем «Карта значений». Далее в столбце «Значение» и «Описание» вводим все типы ИННПВ. После ввода нажимаем «Применить» и «ОК».\n\nТеперь обратно переходим в таблицу атрибутов слоя и наблюдаем, что тип водоисточников теперь выбирается из выпадающего списка. Заполняем поле. Обратите внимание, что заполнить поле возможно только в режиме редактирования!\n\nДля того, чтобы найти водоисточник на карте, мы нажимаем правой кнопкой мыши на желаемый водоисточник в таблице атрибутов и выбираем «Помигать объектом» после этого рядом с нужным гидрантом будет пульсировать красный свет.\n\nЛибо выбираем «Переместиться к объекту» и камера переместит нас на нужный водоисточник.\nТеперь разберёмся как сделать, чтобы от типа водоисточника менялась его иконка.\nПереходим в свойства слоя во вкладку «Стиль». Сверху выбираем «Символизация по уникальным значениям».\n\nВыбираем значение поля «Тип» и нажимаем «Классифицировать». У нас появились все возможные типы ИННПВ. Сначала выбираем «все другие значения» и нажимаем на минус, чтобы удалить. Теперь меняем все иконки для каждого типа, как мы делали с пожарным гидрантом, пунктами выше. Чтобы перейти в настройки маркера, нужно два раза нажать на знак, который будет изменяться.\n\nПосле выбора всех условных обозначений нажимаем «Применить» и «ОК». Наблюдаем что поменялось на карте. Теперь типы водоисточников разделились на отдельные слои, с которыми можно отдельно работать ( например, скрыть, убрав галочку.)\n\nДля того, чтобы узнать количество водоисточников, нажимаем правой кнопкой мыши на слой «Водоисточники» и выбираем пункт «Показывать количество объектов».\n\nВажный момент: сейчас все пути к иконкам водоисточников указаны абсолютно, т.е. при перемещении на другое рабочее пространство возникнут проблемы с отображением. Поэтому путь к иконкам меняем по примеру:\nПри необходимости возможно удалить и переместить маркер. Для перемещения необходимо перейти на нужный слой, войти в режим редактирования и выбрать инструмент «Инструмент редактирования вершин в текущем слое». Выбираем нужный водоисточник и перемещаем в нужное место.\n\nДля удаления остаёмся в режиме редактирование, выбираем инструмент «Выбрать объекты в прямоугольнике или точке» и выделяем нужные для удаления водоисточники.\n\nДалее переходим в таблицу атрибутов, переходим в режим редактирования и нажимаем на «Удалить выбранные объекты».",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#попдиси-маркеров",
    "href": "fire_main/fm_inppw_planshets.html#попдиси-маркеров",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.3 Попдиси маркеров",
    "text": "6.3 Попдиси маркеров\nРазберёмся с подписями ИННПВ. Открываем таблицу атрибутов слоя водоисточников и добавим новое поле. В прошлый раз мы добавляли поле через свойство слоя, теперь же для разнообразия добавим его через таблицу атрибутов. Включаем режим редактирования и создаём новое текстовое поле с именем «Подпись», сделаем для этого поля размер 25, нажимаем «ОК». Пока что пишем просто произвольные подписи. Сохраняем, закрываем режим редактирования и выходим из таблицы атрибутов.\n\nПри выходе из таблицы атрибутов, наблюдаем, что ничего не появилось. Теперь мы покажем сведения в атрибуте в качестве подписей водоисточников. Открываем свойство слоя и переходим на вкладку «Подписи».\n\nСверху в выпадающем списке выбираем «Обычные подписи», далее выбираем поле из которых будет дублироваться подпись, т.е. атрибут «Подпись». Переходим в редактирование текста и сделаем текст синим. Нажимаем «Применить» и «ОК».\n\nНаблюдаем за изменениями.\n\nДля улучшения чёткости отображения надписей сделаем текст полужирным, а также перейдём во вкладку «Буфер» и поставим галочку на «Буферизовать подписи». Нажимаем «Применить».\n\nПереместим подпись водоисточников в более удобное место. Для этого переходим во вкладку «Размещение», выбираем режим «На расстоянии от точки» и во вкладке «Сектор» выбираем функцию сверху.\n\nТеперь с помощью инструмента «Отступ, X,Y» расположим наши подписи ровно посередине.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#масштаб-подписей-и-маркеров",
    "href": "fire_main/fm_inppw_planshets.html#масштаб-подписей-и-маркеров",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.4 Масштаб подписей и маркеров",
    "text": "6.4 Масштаб подписей и маркеров\nНа данный момент при отдалении карты, все подписи и маркеры будут отображаться, что затруднит работу с большим массивов данных, поэтому разберёмся как сделать, чтобы этого избежать.\n\nДля того, чтобы подписи отображались при определённом масштабе в свойстве слоя выбираем вкладку «Подписи» - «Отрисовка». Ставим галочку на «Видимость в пределах масштаба» и выбираем наиболее удобное верхнее и нижнее значение для отображения подписи маркеров.\n\nДля маркеров перейдём во вкладку «Отрисовка», ставим галочку на «Видимость в пределах масштаба» и также как с подписью ставим удобное верхнее и нижнее значение. Теперь маркеры не будут отображаться при определённом отдалении.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#условная-стилизация",
    "href": "fire_main/fm_inppw_planshets.html#условная-стилизация",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.5 Условная стилизация",
    "text": "6.5 Условная стилизация\nПерейдём к изменению маркеров в зависимости от определённых условий (например, о исправности и неисправности водоисточника). Сейчас на данном этапе все водоисточники отображаются как рабочие, чтобы постоянно не проходить все шаги к изменению маркеров, введём алгоритм изменения водоисточника.\nДля этого перейдём в свойства слоя, во вкладку «Стиль» и сверху в выпадающем списке выберем «Символизация на основе правил».\n\nМы наблюдаем поле «Правило», в котором прописана формула, по которой будет происходить действия (как в Visio и Excel). Сейчас прописана логика, что поле «Тип» должно подходить под значение (тип водоисточника) и в этом случае у нас будет вид маркера, который у нас установлен.\nДобавим новое поле, отображающее исправность водоисточника. Для этого переходим во вкладку «Поля», нажимаем «Добавить поле», пишем имя поля «Испр.» (исправность) и вводим тип поля «Целое число (integer 32 бита)». Нажимаем «ОК». Выходим из режима редактирования и сохраняем изменения.\n\nЗаходим в таблицу атрибутов слоя и вводим значения исправности водоисточников: неисправные (цифра 0) и исправные (цифра 1). Выходим из режима редактирования и сохраняем изменения.\n\nПереходим обратно в свойства слоя, а именно в «Стиль». Теперь в окне «Символизация на основе правил» в строке правило пишем следующее для всех значения:\n\nПримечание: если есть водоисточники у которых установлено значение «0», то они пропадут с карты.\nСоздадим теперь визуализацию неисправных маркеров. Для этого нажимаем правой кнопкой мыши на маркер и выбираем «Копировать», далее нажимаем в свободнее пространство также правой кнопкой мыши и выбираем «Вставить». У нас появилась копия маркера.\n\nДелаем так со всеми маркерами. Теперь для копий в строке «Правило» заменяем «1» на «0».\n\nМеняем иконки для данных маркеров на иконки с припиской _bad.\n\nНажимаем «Применить» и наблюдаем изменения.\n\nТеперь мы можем скрывать/отображать рабочие и нерабочие водоисточники в слоях.\nТакже в настройках стиля возможно поменять название иконок.\n\nМы разобрались с отображением иконок, согласно их работоспособности, однако надписи до сих пор остаются синими. Для этого переходим во вкладке «Подписи» в «Подписи на основе правил». Два раза нажимаем на подпись и выбираем «Конструктор выражений».\n\nВ открывшемся окне выбираем «Поля и значения» - два раза нажмаем на «Испр.» и подписываем «=1». Для уточнения в поле «Описание» пишем «Испр.». Нажимаем «ОК».\n\nСоздадим теперь второй файл подписи для неисправных водоисточников. Для этого копируем и вставляем имеющийся файл, меняем цвет на красный и в конструкторе выражений меняем «1» на «0». Также меняем описание на «Неиспр.». Нажимаем «Применить», «ОК» и наблюдаем, что поменялось.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#подписи-с-соответствии-с-боевым-уставом-по",
    "href": "fire_main/fm_inppw_planshets.html#подписи-с-соответствии-с-боевым-уставом-по",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.6 Подписи с соответствии с боевым уставом ПО",
    "text": "6.6 Подписи с соответствии с боевым уставом ПО\nВ соответствии с боевым уставом подразделений пожарной охраны подписи к водоисточникам должны выглядеть так:\n\nСделаем подписи пожарных гидрантов, согласно изображению выше. Заходим в свойства стиля на вкладку «Подписи» и нажимаем 2 раза на нашу подпись. Открываем вкладку «Форматирование».\n\nВ данном разделе есть поле «Перенос строки по символу» нажимаем в ней на «Пробел», это значит, что наша строка будет организовываться в несколько строк по пробелу. Нажимаем «ОК» и «Применить».\n\nНаблюдаем, как теперь располагаются подписи. Делаем тоже самое для неисправных водоисточников.\n\nТеперь сделаем текст гидранта справа от него. Переходим всё также в параметры подписей. Нажимаем два раза на текст и во вкладке размещение выбираем размещение справа. При необходимости поправляем с помощью «Отступ по X, Y». Делаем тоже самое для неисправных водоисточников.\n\n\nПодписи почти готовы. Теперь нужно добавить горизонтальную черту посередине. Для этого переходим во вкладку «Подписи», копируем и вставляем выбранную подпись. Теперь для исправных гидрантов у нас будет отображаться две подписи, которые накладываются друг на друга. Разместим копию подписи на нижнюю правую позицию. А оригинал подписи на верхнюю правую позицию. Стираем пробел в пункте «Перенос по пробелу», а также сделаем разницу по координатам Y, чтобы всё могло работать. Делаем тоже самое для неисправных водоисточников.\n\n\nДобавим подчеркивание для верхней подписи.\n\nУменьшим разницу по координатам Y, чтобы был вид, согласно примеру. Делаем тоже самое для неисправных водоисточников.\n\nСейчас главная проблема состоит в том, что подписи у нас отображаются одинаковыми. Разобьём их на две строки, для этого переходим в таблицу атрибутов слоя. Нажимаем «Открыть калькулятор полей».\n\nВ открывшемся окне вводим имя в поле «Имя поля», например «Подпись 1», тип поля «Текст», а размер например «30».\n\nС настройками поля мы закончили, теперь переходим к функциям. Выбираем функцию «Строки» - «strpos» и нажимаем на неё два раза. Теперь выбираем поле с которым мы работаем, для этого нажимаем «Поля и значения» и два раза нажимаем на «Подпись». Далее пишем запятую и в одинарных кавычках указываем знак пробела (Пример: ‘ ‘ ).\n\nТеперь нам нужно выделить левую часть строки до пробела. Для этого понадобится функцию «Строки» - «left». Далее необходимо указать строку «Подпись» и поставить запятую со скобками. Нажимаем «ОК».\n\nС левой частью мы разобрались, теперь надо сделать правую часть. Также заходим в калькулятор полей, вводим имя «Подпись 2», выбираем тип «Текст» и ставим размер «30». Вставляем формулу изображенную ниже и нажимаем «ОК»:\n\nВыходим из режима редактирования и сохраняем изменения, закрываем таблицу атрибутов. Всё что нам осталось сделать, это в свойствах слоя поменять наши подписи. Меняем значение для верхнего текста на «Подпись 1», а для нижнего на «Подпись 2».\n\nПрименяем изменения и смотрим, что у нас получилось. По желанию редактируем отступ у подписей.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw_planshets.html#подготовка-атласа-к-печати",
    "href": "fire_main/fm_inppw_planshets.html#подготовка-атласа-к-печати",
    "title": "6  Составление планшетов водоисточников",
    "section": "6.7 Подготовка атласа к печати",
    "text": "6.7 Подготовка атласа к печати\nВ этом разделе рассмотрим непосредственно планшет водоисточников в печатном виде, который можно использовать в пожарном подразделении. Для качественной работы с атласом обязаны быть атрибуты как подпись и адрес, поэтому если такие не имеются, необходимо их добавить.\n\nНам необходимо создать макет, для этого заходим в «Проект» и выбираем «Создать макет…».\n\nВводим название, например «Планшет» и нажимаем «ОК».\nНам открывается второе рабочее пространство для NextGIS QGIS, здесь мы будем выстраивать макеты. Макет – это подготовка нашей карты к печати. Т.е. в макете мы работаем с представлением карты, которую будем отправлять на печать. Первое, что необходимо сделать, это добавить карту. Для этого выбираем инструмент «Добавить карту» и левой кнопкой мыши размещаем на листе, например, как на изображении ниже. По желанию возможно переместить карту, просто перетаскивая её.\n\nДля перемещения расположения камеры в самой карте, нужно выбрать инструмент «Перемещение содержимого элемента». С этим инструментом мы можем перемещать, отдалять и приближать камеру в самой карте.\n\nВозможен такой вариант, что нужен будет не альбомный вариант планшет, а книжный. Для смены формата выбираем инструмент «Выделить/переместить элемент», это нужно, чтобы переключаться между другими элементами, либо это можно делать через окно «Элементы» справа.\n\nПосле выбора инструмента, нажимаем на пустое место листа (белое пространство) и справа появятся «Свойства элемента», меняем ориентацию с альбомной на книжную.\n\nНа примере мы будем разбирать альбомный вариант.\nДобавим таблицу данных, которая будет отображать нам информацию, располагающихся на рабочем листе, т.е. только тех, которые мы видим. Выбираем инструмент «Добавить таблицу атрибутов».\n\nРазмещаем таблицу атрибутов в любом удобном месте. В данный момент находятся все атрибуты, которые написаны в таблицу.\n\nВыбираем таблицу с помощью «Выделить/переместить элемент» и справа переходим во вкладку «Свойства элемента». Нажимаем на кнопку «Атрибуты».\n\nВ открывшемся окне удаляем лишние столбцы, для этого выделяем, например столбец «Владелец» и нажимаем на красный минус.\n\nОставляем столбцы с названием гидранта, его типом, водоотдачу и адрес расположения. Если вы случайно удалили нужное поле или хотите добавить новое поле в макет, нужно нажать на зелёный плюс и в выпадающем столбце нового столбца выбираем нужную информацию. Нажимаем «ОК».\n\nДля того, чтобы отображать атрибуты только видимых водоисточников, необходимо также в таблице атрибутов найти форму «Только объекты, видимые на карте» и поставить в ней галочку. Далее выбираем из выпадающего списка нашу карту.\n\nИспытываем наши настройки и наблюдаем, что таблица меняется в зависимости от гидрантов на карте. В принципе для минимума планшета водоисточника хватит, однако разберём дополнительные инструменты. Добавим подпись. Для этого выбираем инструмент «Добавить надпись».\n\nРасполагаем текст в любом удобном месте и можем настроить его во вкладке «Внешний вид».\n\nДобавим элемент легенды. Для этого выбираем инструмент «Добавить легенду».\n\nРасполагаем легенду в удобном для этого месте. В примере представлен только пожарный гидрант, однако на вашей карте будут отображаться все элементы ИННПВ, которые вы добавили. Чтобы удалить ненужные маркеры, нужно выделить маркер и нажать на красный минус.\n\nДобавим масштабную линейку. Для этого выбираем инструмент «Добавить масштабную линейку».\n\nРазмещаем в любое удобное место.\n\nДобавим направление «север-юг». Для этого выбираем инструмент «Добавить указатель север-юг».\n\nРазмещаем в любое удобное место.\n\nНа данном этапе у нас создан планшет для одного фрагмента, т.е. мы можем печатать каждый раз новый фрагмент, однако это неудобно. Для этого и создан «Атлас». Перед работой с атласом, сохраним наш проект, нажав на дискрету сверху и вернёмся к карте.\n\nНам нужно разбить нашу карту, с которой мы будем работать на те фрагменты, которые будут отражаться в макете. Для этого создаём новый слой GeoPackage. Выбираем тип геометрии «Полигон» и нажимаем «ОК».\n\nЗаходим в режим редактирование и выбираем инструмент «Добавить полигональный объект».\n\nИ рисуем полигон в нескольких (произвольно) разных местах, тем самым разделяя наш макет на несколько частей. Нажимаем левой кнопкой мыши, выбираем вершины полигона и при завершении нажимаем правую кнопку мыши, тем самым сохраняя полигон. Проделываем так со всеми частями карты. Выйдем из режима редактирования и сохраним.\n\nТеперь поменяем полную заливку на одну обводку, для этого заходим в стиль и выбираем только обводку, нажимаем «Применить» и «ОК».\n\nЗаходим в наш макет. Сверху выбираем «Атлас» - «Настройки атласа» справа появилась вкладка «Атлас», ставим галочку на «Создать атлас».\n\nВыбираем слой покрытия нашего полигона и имя границы.\n\nНажимаем на нашу карту и переходим в свойства элемента и ставим галочку на «Настройки масштаба атласа».\n\nДля проверки работоспособности сверху нажимаем на «Предпросмотр атласа» и нажимаем на стрелочки, тем самым наблюдая за передвижением камеры.\n\nТеперь наш атлас готов к печати! Если вам мешают границы полигона, то в параметрах атласа можно использовать «Скрыть слой покрытия».\n\nДля печати атласа заходим во вкладку «Атлас» и выбираем «Печать атласа…»\n\nДля сохранения атласа в изображение, выбираем инструмент «Экспорт атласа в изображения…». Выбираем путь, настройки нашего будущего изображения и нажимаем «Сохранить».\nПолучим фотографии нашего атласа.",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Составление планшетов водоисточников</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw.html",
    "href": "fire_main/fm_inppw.html",
    "title": "7  Ведение необходимой информации в подразделении",
    "section": "",
    "text": "7.1 Экспорт слоя ИНППВ в веб-карту\nПереходим к стадии, когда мы перенесём наши данные в веб-пространство. Экспортируя ИНППВ в веб-карту мы сможем использовать её на мобильном приложении, открывать в браузере, отправлять коллегам и т.д.\nСначала переходим на свой профиль в NextGIS и переходим на вкладку «Веб ГИС».\nВ данном разделе набираем любой запоминающийся адрес для нашей Веб ГИС, выбираем центр обработки данных и нажимаем «Создать Веб ГИС».\nЖдём загрузки и переходим на наш Веб ГИС.\nПереходим обратно в NextGIS QGIS и нам необходимо будет подключиться к удаленному серверу Веб ГИС отсюда. Нажимаем на кнопку «NextGIS Account Toolbar», находящуюся в левом верхнем углу.\nНажимаем и входим в аккаунт. Если панель NextGIS Connect скрыта, то правее кнопки «NextGIS Account Toolbar» находится кнопка «Показать/скрыть панель NextGIS Connect».\nВ панели NextGIS Connect нажимаем на «Обновить» и у нас появляется основная веб-карта.\nВыбираем слой с нашими водоисточниками и в NextGIS Connect нажимаем на «Добавить в Веб ГИС».",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ведение необходимой информации в подразделении</span>"
    ]
  },
  {
    "objectID": "fire_main/fm_inppw.html#безводные-участки",
    "href": "fire_main/fm_inppw.html#безводные-участки",
    "title": "7  Ведение необходимой информации в подразделении",
    "section": "7.2 Безводные участки",
    "text": "7.2 Безводные участки\nРазберёмся с участками недостаточного водоснабжения и безводных участках. Для начала работы нужно выбрать правильную систему координат, для точного ориентирования на местности, выбираем UTM вид координат для вашей зоны.\n\nМы поменяли систему координат только для нашей карты, теперь нужно поменять проекцию гидрантов, схожую с системой координат для карты. Для этого заходим на панели инструментов в «Вектор» - «Управление данными» - «Перепроецировать слой…».\n\nВыбираем исходный слой, систему координат, сохраняем слой и нажимаем «Выполнить». Получаем новый слой, согласно нашим системам координат.\n\nТеперь создадим поля, где у нас будут отмечены безводные участки и участки с недостаточным водоснабжением. Будем обозначать 3 зоны:\n1 – «Зона обеспеченная водоснабжением»\n2- «Зона с недостаточным водоснабжением\n3 – «Безводный участок»\nЕсть 2 способа, разберём каждый.\n\n7.2.1 1 способ\nВыбираем слой с правильной проекцией, заходим в свойства слоя – «Стиль». Выбираем тип маркера (тип слоя) «Эллиптический маркер», скрываем обводку, далее ширину и высоту знака ставим «метры в масштабе».\n\nУказываем ширину и высоту знака «600». Нажимаем «Применить» и «ОК».\n\nНа данный момент, мы создали зону, где водоснабжение в норме, перекрасим её в зелёный цвет. Теперь же создадим зону с недостаточным водоснабжением. Для этого дублируем слой проекции наших водоисточников и делаем всё тоже самое, только уже ставим ширину и высоту «1000» и выберем жёлтый цвет.\n\nМы получили зелёную зону, где обеспечивается водоснабжение, жёлтую зону, где недостаточное водоснабжение и всё, что дальше этих зон – безводные участки.\n\nГлавный минус этого способа состоит в том, что зоны накладываются друг на друга, даже если мы поменяем прозрачность. Поэтому этот способ может использоваться больше для анализа, нежели для практического применения.\n\n\n7.2.2 2 способ\nСпособ будет связан с растровыми слоями.\nВыбираем слой с правильной проекцией, заходим в свойства слоя – «Стиль». Выбираем тип маркера (тип слоя) «Простой маркер», скрываем обводку. Нажимаем «Применить» и «ОК».\n\nТеперь нам необходимо выполнить растризацию. Выбираем инструмент «Растр» - «Преобразование» - «Растризация (вектор в растр)…». Данный инструмент превращает векторный слой в растры.\n\nВ открывшемся окне выбираем слой проекции, фиксированное значение ставим «1», указываем единицы измерения выходного растра «Геопривязанные единицы», указываем ширину и высоту разрешения, возьмём, например «5», целевой охват ставим «Текущий охват карты» и нажимаем «Выполнить».\nПримечание: особое внимание обратите на систему координат. При неправильно выбранных системах координат, растеризация будет выдавать ошибку, т.к. будет считать всё в градусах.\nПолучаем множество точек. Это пиксели размером заданным ранее.\n\nТеперь выбираем инструмент «Растр» - «Анализ» - «Близость (расстояния в растре)…».\n\nВ открывшемся окне выбираем слой, который мы растрировали, единицы измерения «Геопривязанные координаты» и нажимаем «Выполнить».\n\nПолучаем растр, в котором сложно организовать работу.\n\nЗаходим в свойства растра, во вкладке стиль выбираем изображение «Одноканальное псевдоцветное», выбираем минимальное значение «0», максимальное оставляем, произвольно выбираем цветовой ряд, интерполяцию ставим «Дискретная».\n\nОставляем 3 нужных нас цвета и прописываем в них значения «300,500 и более 500». Нажимаем «Применить» и «ОК».\n\nПолучаем растр.\n\nТеперь мы можем работать с данным слоем для анализа удалённости водоисточников. Например, поменять прозрачность слоя, выставить слой водоисточников выше уровнем и многое другое.\n\n\n\n\nПример использования",
    "crumbs": [
      "Реализация основных задач пожарных подразделений",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ведение необходимой информации в подразделении</span>"
    ]
  }
]